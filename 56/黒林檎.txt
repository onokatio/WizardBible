x0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0x
x0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0x

--- 第○章: 某キャンプ参加にあたってHow to !! ---

著者：黒林檎

x0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0x
x0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0x


■0x01.) はじめに

　どうも黒林檎です、今回は少し某キャンプでの狙い所と言いますか、そこらへんを勝手にベラベラ語って行こうと思います。
　ついでに勝手に思ってる事を書いていくだけなのでIPAともキャンプとも関係がないのであしからず。
　要するに100%当てにはするなと言う事です。

　今回は基本的に…

1)募集前にするべき事
2)参加確定した際にする事,不参加でもするべき事(次回に向けて)
3)参加時にする事
4)抑えておきたい分野.技術

　まぁまず最初に旧セキュリティ&プログラミングキャンプは参加費費用は勿論宿泊費と食費も無料で、４泊５日で行う学生を対象にした強化合宿でありIPA様が行っている人材育成国家プロジェクトです。
　この様な素晴らしい方々により運営されております。

http://www.ipa.go.jp/jinzai/renkei/spcamp2011/instructor/index.html
http://www.ipa.go.jp/jinzai/renkei/camp2012/instructor/index.html


■0x02.) セキュアなOSの講義について

　リンクを見れば解るように現在は”セキュリティキャンプ”と改名されて行われております。
　セプキャン2011の予算は3500万で実行されていると聞きましたが、現在では…。
　このキャンプの趣旨は優秀なセキュリティ人材を早期発掘と育成を目的としており、2004年度ではセキュリティコースだけでなくプログラミングコースも取り入れられました。
　しかし2011をもってセキュリティ＆プログラミングキャンプで、プログラミングコースはなくなっています。
　その後、セキュリティキャンプに改名されました。

　私的には、セキュアなOSを作ろうに組み込まれたと思っています(プログラミングコース詳細を知らないのではっきり言えませんが）。

●IPAセキュキャン公式サイトから引用

「セグメントを利用したメモリ保護機構を作ろう（x86限定）」（川合講師）
「OSの提供するセキュアなAPIを作ろう（x86限定）」（川合講師）
「不正コード実行防止機能を自作しよう」（竹迫講師）
「組込みＯＳでの不正実行の検出機能を自作しよう」（坂井講師）
「シミュレータでの不正実行の検出機能を自作しよう」（坂井講師）
「組込みＯＳでのバッファオーバーラン防止機能を自作しよう」（坂井講師）
「組込みＯＳでのデータ実行防止機能を自作しよう」（坂井講師）
「プロセッサのセキュリティアシスト機能の設計」（坂井講師）
「セキュアOSのポリシー記述言語を使いやすく」（忠鉢講師）
「オリジナルセキュアOSを作ろう」（忠鉢講師）
「仮想化を用いてOSのセキュリティを向上しよう」（忠鉢講師）
「隠しファイルシステムを作成しよう」（忠鉢講師）
「ルートキットを作成しよう」（根津講師）
「ルートキットの感染の防止／検出／駆除ツールを作ろう」（根津講師）
…

というようにセキュアなOSがかなり充実しています。

　rootkit作成なんて凄く面白そうですね、Ring0動作のマルウェアなどは、攻撃の見えない化でよく用いられています。
　かなり高いレベルを要求されそうですね(全部高いレベルを要求されるようですが)。
　軽く見てたんですがセキュアなOSはかなり気になる講義が多いので、是非参加した方は良ければお話を聞かせて頂ければ光栄です。

　ソフトウェアセキュリティクラスの素晴らしさを個人的(第一優先)に伝えなければならないのですが、セキュア少し気になったので先に書かさせて頂きました。


■0x03.) ソフトウェアセキュリティクラスについて

　さて本命のソフトウェアセキュリティクラスについて、ここは少々古い情報ですが色々書かさせて頂きます。

●IPAセキュキャン公式サイトから引用

「マルウェア概要」
「OllyDbg,IDAPro,などを中心とした解析方法概説」
「アセンブラ読経」
「マルウェア解析演習＆演習成果発表（クラス内）」
「ヒューリスティック検知演習＆演習成果発表（クラス内）」
…

　マルウェアの概要は種類から始まり、解析はなんたるか!とかマルウェアの分類..。まぁ、ここらへんは講義聞くほうが早いです。
＃ソフトウェアセキュリティクラスを受講される方に一言言うなら、テキストがたくらすの1/4(言い過ぎか？)ぐらいの暑さです(2011は)。

　アセンブラ読解はその名前の通りアセンブラをひたすら紙とペンで読む作業。
　これのためにアセンブラ知識がいります。Pythonとかインタプリタで楽ゲーしてる人は少し予習しておくべきですね。

　マルウェア解析演習というのは名前が解らないexeプログラムが配布されます。
　それを仮想環境上の解析環境で指定配布されているツールで解析するという作業。
　動的解析と静的解析両方のアプローチを行って解析してかまいません。

　流れは…

1)解析環境の用意

　既にされているなら…

2)動的解析

　このときに通信先やファイルシステムなど出せばよいです。
　使用APIなんかも割れるはずでしょう。

3)アンパック..(ツールが解析時なくてマニュアルアンパックしてる方がいました…)

しないとコード（静的解析）できません。
アンパックされてるかはAPI見れば一発。

4)静的解析

　頑張ってください。

　IDA(静的)とOllydbg(静的)とSysAnalyzer(動的)とProcessMonitor(動的)とUPXなり配布されるアンパックツールを使用します(現在はマニュアルアンパックかもしれない…だったら頑張ってください)。

　１つ言うならば大多数が知ってるツールは用意されていますが、超マイナーツールはあるかわかりません。
　生徒用PCはインターネットにつながっていません(要するにPCは用意されており、それで解析します。PCのスペックは高いです)。
　つまり、自分の環境が完全に構築出来るわけではないという事です。
　『アナライジングマルウェア』(オライリー出版)に載ってるツールはあったと思います。

　後、知っておくべきはWindowsAPIについてです。
　これも素晴らしいことに、『アナライジングマルウェア』にマルウェア解析win32APIチート表がありますので、是非参考にしてください(CreatFile,RegOpenKey,RegCreatkey,…要するにレジストリ関係のAPIは知ってて得すると思います)。

　解析するマルウェアがキチガイです。
　一応４人程度の班で解析するので技術不足が心配される方も心配ありません。わたしがそうでした!!
　後は防御技術を勉強しますが、/GSとSafeSEHとかSoftware-DEPとかSEHOPという耐コントロール奪取技術なども扱います。
　Hardware-DEPやASLRなどの耐コード実行技術など。
　デバッガなんかも講義内容に含まれます。
　ステップイントゥ、関数の中に入る機能。
　ステップオーバー、関数呼び出しを飛び越える機能。
　ブレークポイント、知ってますよね。

　まぁこういうのは講義受けてみたら良いと思います!!

　後は..ヒューリスティック検知演習＆演習成果発表（クラス内）ですね。ヒューリスティックは「ウィルスらしさで検知する最近?(でもないが)ブームなマルウェア検知方法」です。おそらく検知エンジンを作成させられると思います。

http://www.atmarkit.co.jp/fsecurity/rensai/yarai06/yarai01.html

　こういう感じです。

　検知エンジン作成は..扱う特徴ーデータセット作成ー検知に私用出来るか判断ーアルゴリズムを決める…です（え

　話はさておき..

　ソフトウェアセキュリティクラスは愛甲さんがクラス長です。
　それだけでも参加する意味があるので是非参加してください。

#事前に読んでおいたら楽だと思う本..

・『アナライジングマルウェア』(内容に何が書かれているかを理解しとけばよいと思う)
・『Gugハンター日記』(これは推奨ではないけど)
・『Hacking美しき策謀』(大体の人が読んでますね)
・API関連の書籍(APIについてはすごくでてきます)
・『クラッカープログラミング大全』(解析系の書籍なら何でもいいけど)

　こんな感じですかね。

　多分参加者の多数がレベル高い方なので、Kernel勉強しといた方が話には困らないと思うけど、講義受ける分にはそんな理解せんでよいと思います。


■0x04.) ウェブセキュリティクラスについて

●IPAセキュキャン公式サイトから引用

・「WebブラウザとSame Origin Policy」
・「クロスサイトスクリプティング攻撃の原理と脅威」
・「クロスサイトスクリプティングのバリエーション」
・「HTML5とJavaScript」
・「Content-Security-Policy」
・「脆弱性を低減・撲滅するための設計実習および発表」
…

　WEBは個人情報の扱いとかが特に多い分野だし、素晴らしいと思います!!
　特にGoogleなんかでXSSみつけると金になります(これは黒い話)
　XSSはWEBアプリケーションに存在するセキュリティホールの一種で攻撃者が用意したリンクや不正文字入力により、HTMLのDOM構造が壊れ、悪意あるスクリプトを実行出来てしまうことです。
　XSSに関してはha.chers.orgとhtml5sec.orgを参照してみてください。
　HTML5のXSSの基本構造は変化していませんが、ブラウザの新機能追加によるJavaScriptコード実行機能により要素・属性が増えたせいで被害が大きくなるようです。
　詳細は講義で聞いてください。


■0x05.) ネットワークセキュリティクラスについて

●IPAセキュキャン公式サイトから引用

・「パケット工作と攻撃への応用」
・「偽装通信とその検出」
・「侵入検知とその回避」
・「各種通信解析演習と発表」
…

　使用メインツールはsnortとGPLとWireSharkでしょうか？
　WireSharkは間違いなくフルで使います。
　シグネチャを作成する方法はしっかり予習するべし!!
　解析演習では10GB以上(だったと思う)のパケットを解析する課題だったはずです。
　パケットを分ける?って技術が要ります。予習しときましょう。

　後問題なのはおそらく最後の夜に行われるCTFでしょう。
　私は攻防戦をイメージしていて、まったく問題とか「は？なにそれ」みたいな状況で受けて、まったく解けず肩身狭い卒業をしました。
　CTFで得くこつはおそらく基本解析環境は、BackTrack(仮想環境上)かWindowsになると思われます。
　Windowsでの解析ならBInTextのような文字列抽出ツールを使用し、問題が指し示す解答らしき物をまとめて.txtにし、それを解答していきます。
　多分パズル問題(パズル解けたらjsが起動してアラートでパスでてくる奴)や.pcapからパスを探せとか出ると思うけどまぁその問題のファイルを詳細に調べるのは重要だと思います。
　JSの解析などは、ぱっとみそんなにイメージが付きにくいと思います。解析＝.exe（実行ファイル）ってイメージですし。
　JSの解析なんかは『コンピューターウィルス製造入門』嶋崎氏著（データハウス刊）などの本がよいと思われます。
　これ言っていいのかわからないんですけど、正直CTFの問題全部がオリジナルではないと思います(問題のアイディアが)。それっぽい問題は過去のCTF大会(主に海外)で出てるのが多いと思うで、検索PCで(URL: smokedshicken.org)なんか参照にしたりしてCTF問題をあさればそれっぽいの出てくると思います(これはハッカー魂に反するので最後の必殺技としておいておいてください)。
　その際の検索するコツですが、英語で検索してください。
　日本の解説記事はすごく少なく見つけるまで時間がかかるので、海外サイトをあさる方が効率がよいです。
　XSSなんか見つける場合でも『”XSSがある”』っていうのは解ってるので、それっぽい(WEB関係の)スキャナを対象にぶち込んでたらポイポイ出る可能性あります(これはBackTrackのがよい)。

　まとめるとツールを使えば、効率よく解ける可能性があります。事前にツールを把握しておきたいところです。
　しかし、どう考えてもLinuxコマンドでやった方が素早く見つかる可能性があるケースもあります。
　事前にCTFやHACKINGで良よく使われるコマンドを予習しておきましょう。
　すばらしいことに、最近hackerブーム到来で、CTFがすごくメジャーになっています。色々な(日本や海外サイトで)学習する事が効率がよい勉強法だと思います。


■0x06.) 「参加前にすること」と「落ちてからすること」

　後は「参加前にすること」と「落ちてからすること(応募前にする事でもある)」を説明していこうと思います。

　まぁこれやったからって別に合格するわけでもないけど気休めに実践してほしいです。
　セキュリティ&プログラミングキャンプは高度人材育成&発掘プロジェクトでありますが、これは決してスキルが高い人が行くプロジェクトではないと言う事です（９割高スキルの人らばっかですけど…）。

　まぁそれの証拠に私が参加した事を例題に挙げます。
　やることは１つです。
　まず応募容姿をじっくり見てください。2010年、2011年、2012年、そして2013年(今期)を見て気づくことがあると思います。
…そう若干2011から応募用紙にスキルを求めてくる問題があるのです。

　まぁここらへんは解いてもらわないといけないのですが..。
　去年はYahoo知恵袋に問題を載せて「問いてください」という事件がありました。
　講師陣は常に監視している事を忘れてはいけません。これは自分にも言い聞かせています。
　参加に伴ってサイバー犯罪を犯す輩が現れれば、キャンプの存続が危ぶまれるので、絶対にしないでください。とか、これをここで言うことではないかもしれませんが、一応…。
　要するに国家予算内でやってるので打ち切ら…おっとこれ以上は言えないって奴ですよ。

　まぁ注意は一応ここらへんで。
　要するにセキュキャン(旧：セプキャン)は高度人材だけが行く場所ではないということです。。
　重要なのは正義感と思うわけ、要するに犯罪者は許さないとかそういう。

　小言が続く…
　本題を一気で言うならば、応募設問でセキュリティコースではIT分野でのアピール(成果や得意分野)をしっかりする事だと思います。
　私が一番おすすめするのは「情報の開示」です。プログラミングで例えると、オープンソースにできるって事だと思います。
　自分の勉強した分野や勉強して知ったこと、勉強内容、こんなことできたぜ、こんなことしたぜ。そんなくだらない事でもこまめにブログなどに載せることだと思います。
　これは結構広く知られているイメージではあります。
　「個人スキルを知るためにいるんだろ(笑)」って思うかもしれないが私は少し違う気がします。このプロジェクトはただ人材を育成するってだけではなく、この国の技術者レベルをあげるという狙いがあると伺えます。
　要するに育てたけど、他国技術者になられてはプロジェクトが少しズレてしまうわけです。
　おそらくここを見ている読者層なら、日本のエンジニア人材が不足しているとは聞いたことがあると思います。この国のどういうところでどう活躍したいかとか明確に示せれば、低レベルな技術者でも参加できる可能性があるということです。
　…まあ予測ですが。

　まぁ例ですが…「貴方は他人の子供育てますか？」ってことです。
　まとめると「日本人材」と「本気度と熱意」と「情報開示」。
　情報開示の方法としてはブログなんかでハッキング関係を書くのもありですが、少し私生活なんか噛ませて自分を知らせるというのもアリだと思います。
　まぁ馬鹿らしいと言えばそれで終わりなんですがね。
　おそらくただ実力に自身があって応募用紙を書いただけで、何もして情報開示をしていない状態だと落ちると思います。
　是非落ちてしまった人は来年是非やって見てほしいです。

　ブログ内容についてですが、

・プログラミング最低限出来るって証明するため少し書く
・ハッキング(ソフトウェアならそれ関係、WEBならXSS、ネットワークならパケット読めるなどのアピール)
・Linuxコマンドを仕えるぜといったアピール
…

　セプキャン(またはセキュキャン)の講師陣の多くは、『ハッカージャパン』(白夜書房刊）を書いていますので、是非読んでほしい。
　セプキャン(セキュキャン)の参加についてのヒントがあるかも?






























